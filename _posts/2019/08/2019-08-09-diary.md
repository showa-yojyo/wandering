---
title: 435 日目（晴れ）（執筆中）
---

時計がないので推定で 5:00 に目覚める。鐘ヶ淵ではなく東向島経由で八広に歩いて向かう。
途中のコンビニで時刻を確認したらだいたい合っているようだ。

6:45 ビッグエー墨田八広店で朝食を調達。品出し中なのでおにぎり待ちの時間が発生するが、涼めたのでよし。
* おにぎり (2)
* ソーセージパン
* 野菜ジュース

八広公園に移動して木陰のベンチで食事休憩。すぐに影が短くなるので、その都度ベンチを引っ越す。
園内は芝刈りをしていて草の匂いが漂っている。

9:00 [墨田区八広図書館][sumida-03]に移動。ここにいれば熱中症はない。

Python の非同期プログラミングの続き。きのう書いたような関数は**ブロック関数である**という。
複数のブロック関数を非同期的に呼び出す方法を探したら、そのものずばりがあった：

* [python - How to use asyncio with existing blocking library? - Stack Overflow][41063331]

  投稿にあるコードを簡素化して実行したところ理想的な挙動を示した。さっそく自作スクリプトに取り込もう。
  このあとは Semaphore を Thread に置き換えて、`YouTube()` のブロッキングダウンロードに `asyncio.sleep()` で重み付けする。
  `pytube` 自身が死んでいる件は後で考える。

* [bash - Calling shell functions with xargs - Stack Overflow][11003418]

  長年困っていた問題が解消された。たとえばクリップボードに YouTube の URL を行方向に並べたテキストがあるとする。
  それを複数個の URL をコマンドライン引数に取る自作シェル関数の `download_mp4` に渡すという場合はこう入力できる：

  ```shell
  $ export -f download_mp4
  $ getclip | xargs -I {} bash -c "download_mp4 {}"
  ```

* TODO: 昼飯
* TODO: 風呂（ある場合）
  * 未知の銭湯に行きたい。
    * おかめ湯	墨田区八広一丁目 1-2
    * 薬師湯	墨田区向島三丁目 46-10
    * 良の湯	墨田区東向島二丁目 15-6
    * 電気湯	墨田区京島三丁目 10-10

* TODO: 晩飯
* TODO: ゲーセン

# 読み物

* 朝刊（朝日、産経）
* TODO: 夕刊（朝日、東京）
* TODO: 雑誌
* TODO: 書籍

[sumida-03]: {{ site.baseurl }}{% link _libraries/07-sumida/03-yahiro.md %}
[11003418]: https://stackoverflow.com/questions/11003418/calling-shell-functions-with-xargs
[41063331]: https://stackoverflow.com/questions/41063331/how-to-use-asyncio-with-existing-blocking-library
